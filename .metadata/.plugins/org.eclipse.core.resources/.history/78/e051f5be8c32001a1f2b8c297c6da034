package nccs.omts.repository;

import java.sql.*;
import java.util.*;
import nccs.omts.*;
import nccs.omts.model.*;

public class TransactionRepository {
	
	public List<Transaction> getTransaction() throws SQLException{
			Connection connection= DBconnection.getConnection();
			Statement statement=connection.createStatement();
			ResultSet rs=statement.executeQuery("Select * from transcation");
			List<Transaction> transcations=new ArrayList<>();
			
			while (rs.next()){
				Transaction transcation=new Transaction(rs.getInt(1), rs.getInt(2), rs.getInt(3), rs.getInt(4), rs.getInt(5));
				transcations.add(transcation);
			}
			return transcations;
			
	}
			
	public void addTobooking(int transactions_id, int booking_id, int customer_id, int transcations_date, int price) throws SQLException{
			
			Connection connection= DBconnection.getConnection();
			Statement statement= connection.createStatement();
			statement.executeUpdate("Insert into transactions("+ transactions_id+"," + booking_id +"," +customer_id+ "," +transcations_date+ "," +price+ )");
			
	}
}
