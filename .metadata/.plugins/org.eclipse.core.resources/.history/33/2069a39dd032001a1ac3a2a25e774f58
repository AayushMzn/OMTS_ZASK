package nccs.omts.view;

import java.sql.*;
import java.util.*;
import nccs.omts.control.*;
import nccs.omts.repository.*;
import nccs.omts.model.*;

/**
 *
 * @author specter
 */
public class ClientView {

    CustomersController customerController = new CustomersController();
    BookingController bookingController=new BookingController();
    
    public void movie() throws SQLException {
       
        List<Movies> movie = MoviesRepository.getMovies();

        System.out.println("Movie ID : Movie Name");
        for (Movies movies : movie) {
            System.out.println(movies.getMovie_id() + "\t" + movies.getMovie_name());
        }

    }
    

    public void user() throws SQLException {
      ShowRepository showRepository = new ShowRepository();
        List<UserView> u = showRepository.getShows();
        System.out.println("movie name \t  ");
        for (UserView users : u) {
            System.out.println();
       }
    }

    public void mainPage() throws SQLException {

        System.out.println("Welcome " +customerController.getCurrentUser().getCustomer_name());
        Scanner scanner = new Scanner(System.in);

        int moviesId;
        do {
            movie();
            System.out.println("Select a movie or 0 to exit :");

            moviesId = scanner.nextInt();
            if (moviesId == 0) {
                return;
            }
            else{
                
            }

//            show();
//            System.out.println("Select a show 0 to cancel :");
//            int showId = scanner.nextInt();
            
            

//            if (showId != 0) {
//                bookingController.addToBooking(showId, customerController.getCurrentUser());
//            }

        } while (true);
    }

    public boolean logIn() throws SQLException {

        Scanner scanner = new Scanner(System.in);
        System.out.println("Please login by your email: ");
        String email = scanner.next();
        return customerController.login(email);

    }
}
