package nccs.omts.control;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;
import nccs.omts.repository.*;
import nccs.omts.model.*;

	
public class CustomersController {
	    
    private Customer currentUser = null;
    
    public Customer getCurrentUser() {
        return currentUser;
    }
    public boolean login(String email) throws SQLException {
       
        CustomerRepository customerRepository = new CustomerRepository();
        List<Customer> customers = customerRepository.getCustomers();
        
        for ( Customer customer: customers) {
            if ( customer.getEmail().equals(email)) {
                currentUser = customer;
            }
        }
        return currentUser != null;
    }
}
